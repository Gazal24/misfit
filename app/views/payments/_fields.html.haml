%table.form
  - if @loan.repayment_style == :allow_both
    %tr
      %td
      %td Either provide both the principal and interest:
  - if [:allow_both, :separated].include? @loan.repayment_style
    %tr                                                  
      %td Principal:
      %td
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        = text_field :principal, :size => 40
    %tr
      %td Interest:
      %td
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        = text_field :interest, :size => 40
  - if @loan.repayment_style == :allow_both
    %tr
      %td
      %td Or supply the total amount paid and we split it according to the loan type:
  - if [:allow_both, :aggregated].include? @loan.repayment_style
    %tr
      %td Total:
      %td
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        = text_field :total, :size => 40
  %tr
    %td
    %td
  %tr
    %td Received:
    %td
      on&nbsp;&nbsp;
      = date_select_for @payment, :received_on
      &nbsp;&nbsp;by&nbsp;&nbsp;
      = select :received_by, :collection => StaffMember.all(:active => true), :value_method => :id, :text_method => :name, :prompt => "&lt;select a staff member&gt;"

