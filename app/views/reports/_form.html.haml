- if not params[:layout] 
  = form_for(@report, :action => url(:show_report, :report_type => params[:report_type]), :method => :get) do
    %table
      %tr
        %td
          ="#{@report.class.name} for"
          -report = @report.class.to_s.snake_case
        -if @report.respond_to?(:from_date)
          %td
            =date_select_for(@report, "from_date", :date => @report.from_date)
        -if @report.respond_to?(:to_date)
          %td
            =date_select_for(@report, "to_date", :date => @report.to_date)
        -if @report.respond_to?(:date)
          %td
            =date_select_for(@report, "date", :date => @report.date)
      %tr
        %td
          - branch_id = (params[report] and params[report][:branch_id]) ? params[report][:branch_id] : nil
          - center_id = (params[report] and params[report][:center_id]) ? params[report][:center_id] : nil
          - staff_member_id = (params[report] and params[report][:staff_member_id]) ? params[report][:staff_member_id] : nil
          Branch: 
          =select(:branch_id , :collection => get_accessible_branches, :value_method => :id, :text_method => :name, :include_blank => true, :selected => branch_id)
        %td
          Center:          
          =select(:center_id , :collection => get_accessible_centers(branch_id), :include_blank => true, :selected => center_id)
        %td
          Staff member:
          =select(:staff_member_id , :collection => get_accessible_staff_members, :include_blank => true, :selected => staff_member_id)
        %td
          =submit "Go"
